<div class="modal-header">
    <h3>{{modal_title}}</h3>
</div>
<form class="form-horizontal" ng-submit="submit(event)" name="myForm" novalidate>
    <div class="modal-body">
        <div class="row">
            <div class="form-group col-sm-8" ng-class="{'has-error': myForm.event_date.$invalid && !myForm.event_date.$pristine}">
                <label class="col-sm-3 control-label">Data wykładu*</label>
                <div class="col-sm-9">
                    <div style="display:inline-block;">
                        <input type="text" datepicker-popup="yyyy-MM-dd" class="form-control input-sm" name="event_date" ng-model="event.event_date" disabled>
                        <br>
                        <datepicker ng-init="event.event_date = setdate()" ng-model="event.event_date" show-weeks="true" starting-day="1" class="well well-sm"></datepicker>
                    </div>
                </div>
            </div>
            <div class="form-group col-sm-4">
                <label class="col-sm-3 control-label">Godzina*</label>
                <div class="col-sm-9" ng-class="{'has-error': myForm.event_time_pom.$invalid && !myForm.event_time_pom.$pristine }">
                    <input type="text" datepicker-popup="HH:mm" class="form-control input-sm" name="event_time_pom" ng-model="event.event_time_pom" disabled>
                    <timepicker ng-init="event.event_time_pom = settime()" name="event_time_pom" ng-model="event.event_time_pom" hour-step="1" minute-step="30" show-meridian="false"></timepicker>
                    <p ng-show="myForm.event_time_pom.$invalid && !myForm.event_time_pom.$pristine" class="help-block">Błędna godzina.</p>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Wykład</label>
            <div class="col-sm-10">
                <div class="input-group">
                    <ui-select ng-model="$parent.event.lecture" theme="bootstrap">
                        <ui-select-match placeholder="Wybierz lub wyszukaj...">{{$select.selected.number}}. {{$select.selected.title}}</ui-select-match>
                        <ui-select-choices repeat="lecture in lectures | filter: {number_title: $select.search}">
                            <div ng-bind-html="lecture.number + '. ' + lecture.title | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                    <span class="input-group-btn">
                        <button type="button" ng-click="$parent.event.lecture = undefined" class="btn btn-default">
                            <span class="glyphicon glyphicon-trash"></span>
                        </button>
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Mówca</label>
            <div class="col-sm-10">
                <div class="input-group">
                    <ui-select ng-model="$parent.event.speaker" theme="bootstrap">
                        <ui-select-match placeholder="Wybierz lub wyszukaj...">{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices repeat="speaker in speakers | filter: {name: $select.search}">
                            <div ng-bind-html="speaker.name | highlight: $select.search"></div>
                            <small ng-bind-html="speaker.congregation | highlight: $select.search"></small>
                        </ui-select-choices>
                    </ui-select>
                    <span class="input-group-btn">
                        <button type="button" ng-click="$parent.event.speaker = undefined" class="btn btn-default">
                            <span class="glyphicon glyphicon-trash"></span>
                        </button>
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Uwagi</label>
            <div class="col-sm-10">
                <input type="text" class="form-control input-sm" name="note" ng-model="event.note">
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <p class="text-muted" style="float: left;">* - oznacza pola wymagane</p>
        <input type="submit" class="btn btn-primary" value="{{modal_submit}}" ng-disabled="myForm.$invalid"/>
        <input type="button" class="btn btn-warning" value="Anuluj" ng-click="cancel()"/>
    </div>
</form>